<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="reservation">
	<insert id="insertReservation" parameterType="reservation">
		INSERT INTO RESERVATION (RESERVE_NO, MEMBER_ID, BOOK_NAME, BOOK_PUBLISHER, BOOK_WRITER, RESERVE_DATE, BOOK_CATEGORY)
			VALUES (RESERVATION_SEQ.NEXTVAL, #{memberId}, #{bookName}, #{bookPublisher}, #{bookWriter}, sysdate, #{bookCategory}) 
	</insert>
	<select id="searchReservation" parameterType="reservation" resultType="reservation">
		SELECT
			reserve_no as reserveNo, member_id as MemberId, book_name as bookName, 
			book_writer as bookWriter, book_publisher as bookPublisher 
		FROM RESERVATION
		WHERE MEMBER_ID = #{memberId} AND BOOK_NAME = #{bookName} AND BOOK_WRITER = #{bookWriter} AND BOOK_PUBLISHER = #{bookPublisher} 
	</select>
</mapper>
